// Enhanced JavaScript for the Fahrenheit to Celsius converter
        document.addEventListener("DOMContentLoaded", function() {
            const fahrenheitInput = document.getElementById("fahrenheit");
            const celsiusResult = document.getElementById("celsius-result");
            const copyBtn = document.getElementById("copy-btn");
            const validationMessage = document.getElementById("validation-message");
            
            // Conversion function
            function convertFtoC(fahrenheit) {
                // Clear previous error messages
                validationMessage.textContent = "";
                
                // Handle empty input
                if (fahrenheit === "" || fahrenheit === null || fahrenheit === undefined) {
                    celsiusResult.textContent = "--";
                    copyBtn.style.display = "none";
                    return false;
                }

                const fahrenheitValue = parseFloat(fahrenheit);
                
                // Validate input is a number
                if (isNaN(fahrenheitValue)) {
                    celsiusResult.textContent = "--";
                    copyBtn.style.display = "none";
                    validationMessage.textContent = "Please enter a valid number";
                    return false;
                }
                
                // Validate absolute zero
                if (fahrenheitValue < -459.67) {
                    celsiusResult.textContent = "--";
                    copyBtn.style.display = "none";
                    validationMessage.textContent = "Temperature cannot be below absolute zero (-459.67°F)";
                    return false;
                }
                
                // Perform conversion
                const celsius = (fahrenheitValue - 32) * 5/9;
                const roundedCelsius = Math.round(celsius * 100) / 100; // Keep 2 decimal places
                
                // Update result display
                celsiusResult.textContent = `${roundedCelsius}°C`;
                copyBtn.style.display = "inline-flex";
                
                return true;
            }
            
            // Input handling with debounce
            const debouncedConvert = debounce(() => {
                convertFtoC(fahrenheitInput.value);
            }, 300);
            
            fahrenheitInput.addEventListener("input", debouncedConvert);
            fahrenheitInput.addEventListener("change", () => convertFtoC(fahrenheitInput.value));
            
            // Copy button functionality
            copyBtn.addEventListener("click", () => {
                if (celsiusResult.textContent === "--") return;
                
                const textToCopy = celsiusResult.textContent;
                
                navigator.clipboard.writeText(textToCopy).then(() => {
                    // Show success feedback
                    const originalText = copyBtn.querySelector(".btn-text").textContent;
                    copyBtn.querySelector(".btn-text").textContent = "Copied!";
                    
                    setTimeout(() => {
                        copyBtn.querySelector(".btn-text").textContent = originalText;
                    }, 2000);
                }).catch(err => {
                    console.error("Failed to copy:", err);
                    // Fallback method
                    const textarea = document.createElement("textarea");
                    textarea.value = textToCopy;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand("copy");
                    document.body.removeChild(textarea);
                    
                    // Still show success feedback
                    const originalText = copyBtn.querySelector(".btn-text").textContent;
                    copyBtn.querySelector(".btn-text").textContent = "Copied!";
                    
                    setTimeout(() => {
                        copyBtn.querySelector(".btn-text").textContent = originalText;
                    }, 2000);
                });
            });
            
            // Debounce function for input events
            function debounce(func, wait) {
                let timeout;
                return function() {
                    const context = this, args = arguments;
                    clearTimeout(timeout);
                    timeout = setTimeout(() => {
                        func.apply(context, args);
                    }, wait);
                };
            }
            
            // Check for URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const fahrenheitParam = urlParams.get('fahrenheit');
            
            if (fahrenheitParam) {
                fahrenheitInput.value = fahrenheitParam;
                convertFtoC(fahrenheitParam);
            }
            
            // Focus the input field
            fahrenheitInput.focus();
        });